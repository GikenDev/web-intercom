<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script src="../static/RawAudioStreamPlay.js"></script>
    <script>
      /**
       * Test for `RawAudioStreamPlay.js`
       *
       * Test steps:
       *   1. Open this HTML with browser
       *   2. Open JavaScript console
       *   3. Click try start button
       *   4. Check random sound (white noise) is playing
       *
       * @author aKuad
       */

      function Try_PlayRandomWave() {
        console.log("-- Try_PlayRandomWave");
        const sample_rate = 44100;
        const player = new RawAudioStreamPlay(sample_rate, 0.05, 0.3);

        setInterval(() => {
          player.play(Part_GenRandomFloatArray(sample_rate / 10));
        }, 100);

        console.log("--- CHECK - Is it playing random sound?");
      }


      function Part_GenRandomFloatArray(elem_count) {
        return Float32Array.from(new Array(elem_count), e => Math.random() - 0.5);
      }
    </script>
  </head>

  <body>
    <button onclick="Try_PlayRandomWave()">Try_PlayRandomWave</button>
  </body>
</html>
